# üö® –ü—Ä–æ–±–ª–µ–º–∞ —Å –¥–µ–ø–ª–æ–µ–º –Ω–∞ Vercel

## –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

–ù–æ–≤—ã–π –∫–æ–¥ (–∫–Ω–æ–ø–∫–∏ "ü§ñ –°–æ–∑–¥–∞—Ç—å –±–æ—Ç–∞" –∏ "üë• –û –∞–≤—Ç–æ—Ä–∞—Ö") –Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ –±–æ—Ç–µ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –Ω–∞ Vercel, —Ö–æ—Ç—è:
- ‚úÖ –ö–æ–¥ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω –ª–æ–∫–∞–ª—å–Ω–æ (`npm run build` —É—Å–ø–µ—à–µ–Ω)
- ‚úÖ –ö–æ–¥ –∑–∞–ø—É—à–µ–Ω –Ω–∞ GitHub (–∫–æ–º–º–∏—Ç `34442cd "Force clean rebuild"`)
- ‚úÖ Vercel —É—Å–ø–µ—à–Ω–æ –∑–∞–¥–µ–ø–ª–æ–∏–ª (Build Completed in /vercel/output [12s])
- ‚úÖ Webhook —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ (`https://minebridge-elerisey.vercel.app/api/webhook`)
- ‚úÖ –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ API

## –ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤ –∫–æ–¥–µ

### 1. –ù–æ–≤–∞—è –∫–Ω–æ–ø–∫–∞ –≤ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–µ (`src/keyboards.ts`)
```typescript
export const permanentKeyboardUser = Markup.keyboard([
  ['üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é', 'üìà –ú–æ—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞'],
  ['üîß –ú–æ–¥—ã', '‚ú® –®–µ–π–¥–µ—Ä—ã'],
  ['üé® –†–µ—Å—É—Ä—Å–ø–∞–∫–∏', 'üîç –ü–æ–∏—Å–∫'],
  ['üì¢ –ö–∞–Ω–∞–ª', 'ü§ñ –°–æ–∑–¥–∞—Ç—å –±–æ—Ç–∞'], // ‚Üê –ù–û–í–ê–Ø –ö–ù–û–ü–ö–ê
]).resize();
```

### 2. –ö–Ω–æ–ø–∫–∞ "–û –∞–≤—Ç–æ—Ä–∞—Ö" –≤ –º–µ–Ω—é (`src/keyboards.ts`)
```typescript
export const mainMenuKeyboard = Markup.inlineKeyboard([
  [
    Markup.button.callback('üîß –ú–æ–¥—ã', 'search_mod'),
    Markup.button.callback('‚ú® –®–µ–π–¥–µ—Ä—ã', 'search_shader'),
  ],
  [
    Markup.button.callback('üé® –†–µ—Å—É—Ä—Å–ø–∞–∫–∏', 'search_resourcepack'),
    Markup.button.callback('üîç –ü–æ–∏—Å–∫', 'search_custom'),
  ],
  [
    Markup.button.callback('üë• –û –∞–≤—Ç–æ—Ä–∞—Ö', 'about_authors'), // ‚Üê –ù–û–í–ê–Ø –ö–ù–û–ü–ö–ê
  ],
]);
```

### 3. –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≤ `src/bot.ts`
- `bot.hears('ü§ñ –°–æ–∑–¥–∞—Ç—å –±–æ—Ç–∞', ...)` - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏
- `bot.action('about_authors', ...)` - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ inline –∫–Ω–æ–ø–∫–∏
- `bot.command('mybot', ...)` - –∫–æ–º–∞–Ω–¥–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–æ—Ç–æ–º
- –§—É–Ω–∫—Ü–∏–∏ —Å–æ–∑–¥–∞–Ω–∏—è/—É–¥–∞–ª–µ–Ω–∏—è –±–æ—Ç–æ–≤ –≤ `src/database.ts`

## –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ

### –õ–æ–∫–∞–ª—å–Ω–∞—è –∫–æ–º–ø–∏–ª—è—Ü–∏—è
```bash
npm run build
# Exit Code: 0 - —É—Å–ø–µ—à–Ω–æ
```

–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ–¥–∞:
```bash
grep "–°–æ–∑–¥–∞—Ç—å –±–æ—Ç–∞" dist/keyboards.js
# –†–µ–∑—É–ª—å—Ç–∞—Ç: –Ω–∞–π–¥–µ–Ω–æ –≤ —Å—Ç—Ä–æ–∫–µ 18
```

### GitHub
```bash
git log --oneline -3
# 34442cd Force clean rebuild
# 735db49 Force rebuild without cache
# 9abfdba Add logging to channel_post handler
```

–í—Å–µ –∫–æ–º–º–∏—Ç—ã –∑–∞–ø—É—à–µ–Ω—ã –Ω–∞ `origin/main`.

### Vercel
- –ü—Ä–æ–µ–∫—Ç: `minebridge-elerisey`
- URL: `https://minebridge-elerisey.vercel.app`
- –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: `yorikelesey-dot/minebridge`
- –ü–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–ø–ª–æ–π: "Force clean rebuild" (—É—Å–ø–µ—à–µ–Ω)
- Build logs: "Build Completed in /vercel/output [12s]"

### Webhook
```bash
node check-webhook.js
# URL: https://minebridge-elerisey.vercel.app/api/webhook
# Allowed updates: ['message', 'channel_post', 'inline_query', 'callback_query']
# Last error: –Ω–µ—Ç –æ—à–∏–±–æ–∫
```

### –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞
```bash
node update-commands.js
# ‚úÖ –ö–æ–º–∞–Ω–¥—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã
```

## –ß—Ç–æ –ø—Ä–æ–±–æ–≤–∞–ª–∏

1. ‚úÖ Redeploy –Ω–∞ Vercel (–Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑)
2. ‚úÖ Redeploy –±–µ–∑ –∫—ç—à–∞ (Use existing Build Cache: NO)
3. ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ webhook –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–Ω–æ–≤–æ (`node reset-bot.js`)
4. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ API
5. ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä—É—é—â–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ Vercel
6. ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ `dist` –∏ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞
7. ‚úÖ –ü—É—Å—Ç—ã–µ –∫–æ–º–º–∏—Ç—ã –¥–ª—è —Ñ–æ—Ä—Å–∏—Ä–æ–≤–∞–Ω–∏—è –¥–µ–ø–ª–æ—è
8. ‚úÖ –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —á–∞—Ç–∞ —Å –±–æ—Ç–æ–º –≤ Telegram

## –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

**–í –±–æ—Ç–µ –≤–∏–¥–Ω–æ:**
- –°—Ç–∞—Ä–∞—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –ë–ï–ó –∫–Ω–æ–ø–∫–∏ "ü§ñ –°–æ–∑–¥–∞—Ç—å –±–æ—Ç–∞"
- –°—Ç–∞—Ä–æ–µ inline –º–µ–Ω—é –ë–ï–ó –∫–Ω–æ–ø–∫–∏ "üë• –û –∞–≤—Ç–æ—Ä–∞—Ö"

**–î–æ–ª–∂–Ω–æ –±—ã—Ç—å:**
- –ö–Ω–æ–ø–∫–∞ "ü§ñ –°–æ–∑–¥–∞—Ç—å –±–æ—Ç–∞" –≤ –Ω–∏–∂–Ω–µ–π –∫–ª–∞–≤–∏–∞—Ç—É—Ä–µ
- –ö–Ω–æ–ø–∫–∞ "üë• –û –∞–≤—Ç–æ—Ä–∞—Ö" –≤ inline –º–µ–Ω—é

## –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã

1. **Vercel –∫—ç—à–∏—Ä—É–µ—Ç —Å—Ç–∞—Ä—ã–π –±–∏–ª–¥** - –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ "Use existing Build Cache: NO"
2. **Telegram –∫—ç—à–∏—Ä—É–µ—Ç –±–æ—Ç–∞** - –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —É–¥–∞–ª–µ–Ω–∏–µ webhook
3. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –¥–µ–ø–ª–æ–∏—Ç—Å—è** - –Ω–æ –ø—Ä–æ–≤–µ—Ä–∏–ª–∏, –ø—Ä–æ–µ–∫—Ç –æ–¥–∏–Ω
4. **TypeScript –Ω–µ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è** - –Ω–æ –ª–æ–∫–∞–ª—å–Ω–æ –≤—Å—ë –æ–∫
5. **Vercel –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞—Ä—ã–π –∫–æ–º–º–∏—Ç** - –Ω–æ –≤ –ª–æ–≥–∞—Ö –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
6. **–ü—Ä–æ–±–ª–µ–º–∞ —Å –∏–º–ø–æ—Ä—Ç–∞–º–∏** - –Ω–æ –æ—à–∏–±–æ–∫ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –Ω–µ—Ç

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
src/
‚îú‚îÄ‚îÄ bot.ts              # –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ (–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã)
‚îú‚îÄ‚îÄ keyboards.ts        # –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã (–∫–Ω–æ–ø–∫–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã)
‚îú‚îÄ‚îÄ database.ts         # –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è user_bots (–¥–æ–±–∞–≤–ª–µ–Ω—ã)
‚îî‚îÄ‚îÄ config.ts           # –ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π

api/
‚îî‚îÄ‚îÄ webhook.ts          # –ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π

dist/                   # –°–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥ (–ø—Ä–æ–≤–µ—Ä–µ–Ω, –≤—Å—ë –µ—Å—Ç—å)
‚îú‚îÄ‚îÄ bot.js
‚îú‚îÄ‚îÄ keyboards.js
‚îî‚îÄ‚îÄ database.js
```

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### package.json
```json
{
  "scripts": {
    "vercel-build": "tsc"
  }
}
```

### vercel.json
```json
{
  "version": 2,
  "builds": [
    {
      "src": "api/webhook.ts",
      "use": "@vercel/node"
    }
  ]
}
```

### .vercelignore
```
node_modules
.env
src/index.ts
README.md
```

## –õ–æ–≥–∏ Vercel (–ø–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–ø–ª–æ–π)

```
Running "npm run vercel-build"
> minecraft-mods-telegram-bot@1.0.0 vercel-build
> tsc
Using TypeScript 5.9.3 (local user-provided)
Build Completed in /vercel/output [12s]
Deploying outputs...
Deployment completed
Creating build cache...
Created build cache: 4.536s
Uploading build cache [31.90 MB]
Build cache uploaded: 659.571ms
```

–û—à–∏–±–æ–∫ –Ω–µ—Ç, –±–∏–ª–¥ —É—Å–ø–µ—à–µ–Ω.

## –ß—Ç–æ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å

1. **–õ–æ–≥–∏ runtime Vercel** - –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –∫ –±–æ—Ç—É
2. **–ö–∞–∫–æ–π –∏–º–µ–Ω–Ω–æ –∫–æ–¥ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è** - –º–æ–∂–µ—Ç Vercel –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞—Ä—ã–π dist
3. **Environment Variables** - –º–æ–∂–µ—Ç —á—Ç–æ-—Ç–æ –Ω–µ —Ç–∞–∫ —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏
4. **Vercel Functions** - –º–æ–∂–µ—Ç –ø—Ä–æ–±–ª–µ–º–∞ –≤ serverless —Ñ—É–Ω–∫—Ü–∏—è—Ö
5. **Telegram API** - –º–æ–∂–µ—Ç –±–æ—Ç –∫—ç—à–∏—Ä—É–µ—Ç—Å—è –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ Telegram

## –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ webhook
node check-webhook.js

# –°–±—Ä–æ—Å –±–æ—Ç–∞
node reset-bot.js

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥
node update-commands.js

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
npm run build
grep "–°–æ–∑–¥–∞—Ç—å –±–æ—Ç–∞" dist/keyboards.js

# –ü—Ä–æ–≤–µ—Ä–∫–∞ GitHub
git log --oneline -5
git status
```

## –ö–æ–Ω—Ç–∞–∫—Ç—ã

- –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: https://github.com/yorikelesey-dot/minebridge
- Vercel –ø—Ä–æ–µ–∫—Ç: minebridge-elerisey
- –ë–æ—Ç: @MineBridges_bot
- –ê–¥–º–∏–Ω: @elerisey

---

**–î–∞—Ç–∞:** 10.02.2026  
**–°—Ç–∞—Ç—É—Å:** –ù–µ —Ä–µ—à–µ–Ω–æ  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π
